<div class="space-y-4">
  <h4 class="text-base font-semibold text-gray-900 mb-4">Loading Meter Details</h4>

  <p class="text-sm text-gray-600 mb-4">
    Enter the required loading meters and total dimensions for your shipment (max. 13.6m).
  </p>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">
        Loading Meters * <span class="text-xs text-gray-500">(max 13.6m)</span>
      </label>
      <%= f.number_field :loading_meters,
          min: 0,
          max: 13.6,
          step: 0.1,
          placeholder: "13.6",
          class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500" %>
      <p class="text-xs text-gray-500 mt-1">Maximum truck length</p>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">
        Total Height (cm) *
      </label>
      <%= f.number_field :total_height_cm,
          min: 0,
          step: 1,
          placeholder: "260",
          class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500" %>
      <p class="text-xs text-gray-500 mt-1">Total cargo height</p>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">
        Total Weight (kg) *
      </label>
      <%= f.number_field :total_weight_kg,
          min: 0,
          step: 1,
          placeholder: "24000",
          class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500" %>
      <p class="text-xs text-gray-500 mt-1">Total cargo weight</p>
    </div>
  </div>

  <div class="mt-6 p-4 bg-green-50 border border-green-200 rounded-lg">
    <h5 class="text-sm font-semibold text-gray-700 mb-2">Summary</h5>
    <div class="text-sm text-gray-600">
      <p>Lademeter: <strong><span id="lm-display">0.0</span>m</strong></p>
      <p>Gesamtgewicht: <strong><span id="lm-weight-display">0</span>kg</strong></p>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const lmInput = document.querySelector('input[name*="loading_meters"]');
    const weightInput = document.querySelector('input[name*="total_weight_kg"]');
    const lmDisplay = document.getElementById('lm-display');
    const weightDisplay = document.getElementById('lm-weight-display');

    if (lmInput && lmDisplay) {
      lmInput.addEventListener('input', function() {
        lmDisplay.textContent = parseFloat(this.value || 0).toFixed(1);
      });
    }

    if (weightInput && weightDisplay) {
      weightInput.addEventListener('input', function() {
        weightDisplay.textContent = parseInt(this.value || 0);
      });
    }
  });
</script>
